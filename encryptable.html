<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>Laratools - A collection of useful everyday tools for Laravel</title>

        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
        <link rel="stylesheet" href="https://laratools.com/css/main.css">
        <link rel="stylesheet" href="https://laratools.com/css/prism.css">

        <link rel="shortcut icon" type="image/png" href="https://laratools.com/img/favicon-32x32.png" sizes="32x32" />
        <link rel="shortcut icon" type="image/png" href="https://laratools.com/img/favicon-16x16.png" sizes="16x16" />
    </head>
    <body>
        <header class="site-header">
            <div class="container">
                <div class="site-header__inner flex flex-column flex-md-row">
                    <div class="flex">
                        <img src="https://laratools.com/img/laratools-inverse.png" alt="Laratools Logo" class="site-header__branding-logo">

                        <h1 class="site-header__branding-name">
                            <a href="https://laratools.com" class="site-header__branding-link">
                                Laratools
                            </a>
                        </h1>
                    </div>

                    <nav class="site-header__nav float-right">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a href="https://github.com/laratools/laratools" class="nav-link">GitHub</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="row">

                
                    <nav class="col-sm-3 col-lg-2" role="navigation">
                        <ul class="nav flex-column">

                            
                                <li class="nav-item">
                                    <a href="https://laratools.com/" class="nav-link ">
                                        Introduction
                                    </a>
                                </li>

                            
                                <li class="nav-item">
                                    <a href="https://laratools.com/encryptable.html" class="nav-link active">
                                        Encryptable
                                    </a>
                                </li>

                            
                                <li class="nav-item">
                                    <a href="https://laratools.com/uuid.html" class="nav-link ">
                                        Uuid
                                    </a>
                                </li>

                            
                        </ul>

                                                    <p class="nav__section-header text-muted">
                                Laratools CI
                            </p>

                            <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                        <a href="https://laratools.com/ci/" class="nav-link ">
                                            Introduction
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://laratools.com/ci/circleci.html" class="nav-link ">
                                            CircleCI
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://laratools.com/ci/gitlab-ci.html" class="nav-link ">
                                            GitLab CI
                                        </a>
                                    </li>
                                                            </ul>
                        
                    </nav>

                
                <section class="col-sm-9 col-lg-10 content">
                    <h1 id="encryptable">Encryptable</h1>
<p>The encryptable trait can automatically encrypt and decrypt attributes on your models</p>
<ul>
<li><a href="#usage">Usage</a>
<ul>
<li><a href="#unsafe-decryption">Unsafe Decryption</a></li>
</ul></li>
</ul>
<h2 id="usage">Usage</h2>
<pre><code class="language-php">class BankAccount extends Model
{
    protected $casts = [
        'number'    =&gt; 'encrypt',
        'sort_code' =&gt; 'encrypt',
    ];
}</code></pre>
<p>This model will now automatically encrypt and decrypt the <code>number</code> and <code>sort_code</code> attributes when saving/retrieving from the database.</p>
<h4 id="unsafe-decryption">Unsafe Decryption</h4>
<p>By default if a <code>DecryptException</code> is thrown when attempting to decrypt the attribute, the encryptable trait will catch the exception
and safely return the unaltered contents of the attribute, this is to prevent any unexpected exceptions in your application.
If you wish to change this behaviour and have the <code>DecryptException</code> thrown then you may set the <code>protected $safeDecrypt = false</code> property on your model. </p>
<pre><code class="language-php">class BankAccount extends Model
{
    protected $casts = [
        'number'    =&gt; 'encrypt',
        'sort_code' =&gt; 'encrypt',
    ];

    protected $safeDecrypt = false;
}</code></pre>
<p>Now when the <code>number</code> or <code>sort_code</code> attributes fail to decrypt (e.g because of an invalid hmac) then the <code>DecryptException</code> will be thrown and you can handle
it within your application however you need to.</p>
                </section>

            </div>
        </main>

        <footer class="site-footer">
            <div class="bottom-panel">
                <div class="text-center">
                    <span>
                                                    Copyright &copy; <a href="https://iwader.co.uk">iWader Limited</a>
                                            </span>
                </div>
            </div>
        </footer>

        <script src="https://laratools.com/js/prism.min.js"></script>
        <script>
                            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-105579782-1', 'auto');
                ga('send', 'pageview');
                    </script>

    </body>
</html>
